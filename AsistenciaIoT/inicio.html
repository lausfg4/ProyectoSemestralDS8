<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Inicio</title>
    <link rel="stylesheet" href="styles/inicio.css">
</head>

<body>

    <!-- NAVBAR DINÃMICO -->
    <div class="navbar" id="navbar"></div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="contenedor">

        <!-- BIENVENIDA -->
        <h1 class="titulo">Hola, <span id="nombreUsuario">Usuario</span> ðŸ‘‹</h1>
        <p class="subtitulo">Bienvenido al Sistema de GestiÃ³n de Asistencia IoT</p>

        <!-- TARJETAS RÃPIDAS -->
        <div class="cards">
            <div class="card">
                <h3>Asistencias de Hoy</h3>
                <p id="asisHoy">0/0</p>
            </div>

            <div class="card">
                <h3>Clases del DÃ­a</h3>
                <p id="clasesHoy">0</p>
            </div>

            <div class="card">
                <h3>Asistencia General</h3>
                <p id="porcentajeGeneral">0%</p>
            </div>
        </div>

        <!-- SECCIÃ“N PRÃ“XIMAS CLASES -->
        <h2 class="seccion-titulo">ðŸ“… PrÃ³ximas Clases de Hoy</h2>
        <div id="proximasClases" class="lista"></div>

        <!-- SECCIÃ“N ÃšLTIMAS ASISTENCIAS -->
        <h2 class="seccion-titulo">ðŸ“Œ Ãšltimas Asistencias Registradas</h2>
        <div id="ultAsistencias" class="lista"></div>

        <!-- NOTICIAS -->
        <h2 class="seccion-titulo">ðŸ“° Noticias del Sistema</h2>

        <div class="noticias">
            <div class="noticia">
                <h3>Nuevo Sistema IoT</h3>
                <p>Se integrÃ³ un lector RFID mÃ¡s preciso para validar asistencias.</p>
                <span>Hoy</span>
            </div>

            <div class="noticia">
                <h3>Mantenimiento del Servidor</h3>
                <p>MaÃ±ana de 1:00 AM a 3:00 AM habrÃ¡ mantenimiento.</p>
                <span>Hace 2 horas</span>
            </div>

            <div class="noticia">
                <h3>Mejoras en el Registro</h3>
                <p>El lector RFID ahora registra 0.5 segundos mÃ¡s rÃ¡pido.</p>
                <span>Hace 4 horas</span>
            </div>
        </div>

    </div>

    <!-- FOOTER -->
    <footer class="footer">
        Â© 2025 Sistema de GestiÃ³n de Asistencia IoT â€” Todos los derechos reservados.
    </footer>

    <!-- SCRIPT NAVBAR POR ROL -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const rol = localStorage.getItem("rol");
            const navbar = document.getElementById("navbar");

            let html = `
                <a class="nav-item" href="Inicio.html">Inicio</a>
                <a class="nav-item" href="Horario.html">Horario</a>
            `;

            // Si es profesor â†’ agregar Asistencia
            if (rol === "profesor") {
                html += `<a class="nav-item" href="Asistencia.html">Asistencia</a>`;
            }

            // BotÃ³n cerrar sesiÃ³n
            html += `
                <div class="nav-right">
                    <a href="login.html" class="btn-logout" onclick="cerrarSesion()">Cerrar sesiÃ³n</a>
                </div>
            `;

            navbar.innerHTML = html;

            // Mostrar nombre si lo tienes guardado
            const nombre = localStorage.getItem("nombre") || "Usuario";
            document.getElementById("nombreUsuario").textContent = nombre;
        });

        function cerrarSesion() {
            localStorage.clear();
        }
    </script>

    <script src="scripts/inicio.js"></script>

</body>
</html>
